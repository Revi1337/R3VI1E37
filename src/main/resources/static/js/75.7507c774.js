"use strict";(globalThis["webpackChunkr3vi1e37"]=globalThis["webpackChunkr3vi1e37"]||[]).push([[75],{7837:(e,l,t)=>{t.d(l,{cU:()=>s,qb:()=>i,yP:()=>u,z7:()=>c});var a=t(7524),o=t(501),n=t(1809);const{accessToken:r}=(0,n.Jk)((0,o.t)());function i(e){return a.Z.post("/api/posts",{...e},{headers:{Authorization:`Bearer ${r.value}`}})}function s(e){return a.Z.get("/api/posts",{params:e})}function u(e){return a.Z.get("/api/posts",{params:e})}function c(e){return a.Z.get(`/api/post/${e}`)}},9075:(e,l,t)=>{t.r(l),t.d(l,{default:()=>I});t(9665);var a=t(9835),o=t(1957),n=t(6970),r=t(499),i=t(2512),s=t(519),u=(t(6117),t(7837)),c=t(8339),p=t(7524);const d={class:"q-pt-xl row no-wrap q-col-gutter-xl",style:{height:"800px"}},m={class:"col-6 column justify-between"},g={class:"row no-wrap"},h={class:"q-mt-lg"},v={class:"q-mt-md"},w={class:"col-6 mark-down scroll"},f={class:"text-h3 text-weight-bold"},b=["innerHTML"],y={class:"text-right q-pt-md q-mr-xl"},k=(0,a._)("div",{class:"text-h6 text-font-color"},"Create Post?",-1),T={__name:"CreatePostPage",setup(e){(0,c.ao)((()=>{console.log("onBeforeRouteUpdate called")})),(0,c.iS)((()=>{console.log("onBeforeRouteLeave called")}));const l=["DEV","CTF","WRITEUP","CS","CHEETSHEET"],t=(0,r.iH)(l),T=((0,r.iH)(null),(e,a,o)=>{a((()=>{const a=e.toLowerCase();t.value=l.filter((e=>e.toLowerCase().indexOf(a)>-1))}))}),q=((0,r.iH)(null),(e,l)=>{l(e,"add-unique")}),C=(0,c.tv)(),_=(0,r.iH)({title:"Title",content:"\n  * Dummy\n  ",hashTag:null,category:""}),x=(0,r.iH)(!1),V=async()=>{x.value=!1;try{const e={title:_.value.title,content:_.value.content,hashTag:Z(),category:_.value.category},{data:l}=await(0,u.qb)(e);C.push({name:"Index"})}catch(e){console.error(e),alert("error")}},Z=()=>Array.from(_.value.hashTag).join(","),W=new i.TU.Renderer;W.code=(e,l)=>{const t=s.Z.getLanguage(l)?l:"plaintext",a=s.Z.highlight(e,{language:l}).value;return`<pre><code class="hljs ${t}">${a}</code></pre>`},i.TU.setOptions({renderer:W,mangle:!1,headerIds:!1});const H=(0,a.Fl)((()=>i.TU.parse(_.value.content))),U=e=>{const l=e.target,t=l.selectionStart,a=l.value.slice(0,t)+"    "+l.value.slice(t);l.value=a,l.setSelectionRange(t+4,t+4)},Q=((0,r.iH)(null),e=>{const l=e.clipboardData||window.clipboardData,t=l.items;for(let a=0;a<t.length;a++)if(-1!==t[a].type.indexOf("image")){const e=t[a].getAsFile();S(e)}}),S=async e=>{const l=new FormData;l.append("file",e,e.name);const{data:t}=await p.Z.post("/api/post/image",l,{headers:{"Content-Type":"multipart/form-data"}});_.value.content+=`![](http://localhost:8080/api/post/image/${t.replace(".png","")})`};return(e,l)=>{const r=(0,a.up)("q-item-section"),i=(0,a.up)("q-item"),s=(0,a.up)("q-select"),u=(0,a.up)("q-input"),c=(0,a.up)("q-separator"),p=(0,a.up)("q-btn"),C=(0,a.up)("q-card-section"),Z=(0,a.up)("q-card"),W=(0,a.up)("q-dialog"),S=(0,a.Q2)("close-popup");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("div",d,[(0,a._)("div",m,[(0,a._)("div",g,[(0,a.Wm)(s,{spellcheck:"false",class:"col-3 q-mr-lg",color:"light-green-12",dark:"",label:"Category","label-color":"light-green-12",modelValue:_.value.category,"onUpdate:modelValue":l[0]||(l[0]=e=>_.value.category=e),"use-input":"","hide-selected":"","fill-input":"","input-debounce":"0",options:t.value,onFilter:T,hint:"Choice One",style:{"padding-bottom":"32px"}},{"no-option":(0,a.w5)((()=>[(0,a.Wm)(i,null,{default:(0,a.w5)((()=>[(0,a.Wm)(r,{class:"text-grey"},{default:(0,a.w5)((()=>[(0,a.Uk)(" No results ")])),_:1})])),_:1})])),_:1},8,["modelValue","options"]),(0,a.Wm)(s,{spellcheck:"false",class:"col-grow",dark:"",label:"HashTags","label-color":"light-green-12",modelValue:_.value.hashTag,"onUpdate:modelValue":l[1]||(l[1]=e=>_.value.hashTag=e),"use-input":"","use-chips":"",multiple:"","hide-dropdown-icon":"",hint:"Fill Input and Press ENTER (Can Multiple)","input-debounce":"0",onNewValue:q,style:{"padding-bottom":"32px"}},null,8,["modelValue"])]),(0,a._)("div",null,[(0,a._)("div",h,[(0,a.Wm)(u,{dark:"",spellcheck:!1,filled:"",autofocus:"",counter:"",modelValue:_.value.title,"onUpdate:modelValue":l[2]||(l[2]=e=>_.value.title=e),color:"light-green-12",label:"Title","label-color":"light-green-12",hint:"Title Must Be Specified"},null,8,["modelValue"])])]),(0,a._)("div",null,[(0,a._)("div",v,[(0,a.Wm)(u,{spellcheck:!1,dark:"",filled:"",counter:"",modelValue:_.value.content,"onUpdate:modelValue":l[3]||(l[3]=e=>_.value.content=e),label:"Content","label-color":"light-green-12",type:"textarea",color:"light-green-12","input-style":{minHeight:"400px",lineHeight:"30px"},onKeydown:(0,o.D2)((0,o.iM)(U,["prevent"]),["tab"]),onPaste:l[4]||(l[4]=e=>Q(e))},null,8,["modelValue","onKeydown"])])])]),(0,a._)("div",w,[(0,a._)("p",f,(0,n.zw)(_.value.title),1),(0,a.Wm)(c,{dark:"",spaced:""}),(0,a._)("div",{class:"markdown-container",innerHTML:H.value},null,8,b)])]),(0,a._)("div",y,[(0,a.Wm)(p,{ripple:!1,label:"upload",outline:"",color:"light-green-12",class:"q-mr-md",onClick:l[5]||(l[5]=e=>x.value=!x.value)}),(0,a.Wm)(p,{ripple:!1,label:"back",outline:"",color:"light-green-12",onClick:l[6]||(l[6]=l=>e.$router.push({name:"Index"}))})]),(0,a.Wm)(W,{modelValue:x.value,"onUpdate:modelValue":l[8]||(l[8]=e=>x.value=e)},{default:(0,a.w5)((()=>[(0,a.Wm)(Z,{dark:"",flat:""},{default:(0,a.w5)((()=>[(0,a.Wm)(C,null,{default:(0,a.w5)((()=>[k])),_:1}),(0,a.Wm)(C,{class:"row items-center q-gutter-sm"},{default:(0,a.w5)((()=>[(0,a.Wm)(p,{label:"Create",color:"primary",onClick:l[7]||(l[7]=e=>V())}),(0,a.wy)((0,a.Wm)(p,{label:"cancel",color:"primary"},null,512),[[S]])])),_:1})])),_:1})])),_:1},8,["modelValue"])],64)}}};var q=t(6031),C=t(490),_=t(1233),x=t(6611),V=t(926),Z=t(4455),W=t(7743),H=t(4458),U=t(3190),Q=t(2146),S=t(9984),D=t.n(S);const E=T,I=E;D()(T,"components",{QSelect:q.Z,QItem:C.Z,QItemSection:_.Z,QInput:x.Z,QSeparator:V.Z,QBtn:Z.Z,QDialog:W.Z,QCard:H.Z,QCardSection:U.Z}),D()(T,"directives",{ClosePopup:Q.Z})}}]);